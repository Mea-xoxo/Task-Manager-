{% extends 'myPblog/base.html' %}
{% block content %}
    <h2>All Posts</h2>
    {% for post in page_obj %}
        <div >
            <h2> {{post.title }}</h2>
            <p>{{ post.content | truncatechars:200  }}</p>
            <p>By {{post.author.username }} on {{post.created_at}}</p>
            
            </div>
      {% empty %}
        <p>No posts yet</p>
    {% endfor %}

<!-- Pagination controls-->
 <div class ="pagination">
    {% if page_obj.has_previous %}
    <a href = "?page={{ page_obj.previous_page_number }}">Previous</a>
    {% endif %}

    <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
   
    {% if page_obj.has_next %}
    <a href = "?page={{ page_obj.next_page_number }}">Next</a>
    {% endif %}


            {% if user == post.author %}
            <div>
                <a href = "{% url 'edit-post' post.pk %}">Edit</a>
                <a href = "{% url 'delete-post' post.pk %}">Delete</a>
            </div>
            {% endif %}

        </div>
   
{% endblock %}